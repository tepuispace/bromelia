import"./hoisted.a744777c.js";class h extends HTMLElement{_current=this.querySelector('a[aria-current="true"]');minH=parseInt(this.dataset.minH||"2",10);maxH=parseInt(this.dataset.maxH||"3",10);set current(e){e!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),e.setAttribute("aria-current","true"),this._current=e)}constructor({smallViewport:e=!1}={}){super();const r=[...this.querySelectorAll("a")],s=t=>{if(t instanceof HTMLHeadingElement){if("pageTitle"in t.dataset)return!0;const i=t.tagName[1];if(i){const n=parseInt(i,10);if(n>=this.minH&&n<=this.maxH)return!0}}return!1},c=t=>{if(!t)return null;const i=t;for(;t;){if(s(t))return t;for(t=t.previousElementSibling;t?.lastElementChild;)t=t.lastElementChild;const n=c(t);if(n)return n}return c(i.parentElement)},a=t=>{for(const{isIntersecting:i,target:n}of t){if(!i)continue;const m=c(n);if(!m)continue;const f=r.find(v=>v.hash==="#"+encodeURIComponent(m.id));if(f){this.current=f;break}}},g=document.querySelectorAll("main [id], main [id] ~ *, main .content > *"),u=(e?104:64)+32,E=u+24;let o;function l(){o&&o.disconnect();const t=document.documentElement.clientHeight,i=`-${u}px 0% ${E-t}px`;o=new IntersectionObserver(a,{rootMargin:i}),g.forEach(n=>o.observe(n))}l();const b=window.requestIdleCallback||(t=>setTimeout(t,1));let d;window.addEventListener("resize",()=>{o&&o.disconnect(),clearTimeout(d),d=setTimeout(()=>b(l),200)})}}customElements.define("starlight-toc",h);class w extends h{set current(e){super.current=e;const r=this.querySelector(".display-current");r&&(r.textContent=e.textContent)}constructor(){super({smallViewport:!0});const e=this.querySelector("details");if(!e)return;const r=()=>{e.open=!1};e.querySelectorAll("a").forEach(s=>{s.addEventListener("click",r)}),window.addEventListener("click",s=>{e.contains(s.target)||r()}),window.addEventListener("keydown",s=>{if(s.key==="Escape"&&e.open){const c=e.contains(document.activeElement);if(r(),c){const a=e.querySelector("summary");a&&a.focus()}}})}}customElements.define("mobile-starlight-toc",w);
